<!doctype html><html lang=en-us class=no-js><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="chrome=1"><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><meta name=description content="Marc Friederich"><meta name=twitter:card content="summary"><meta name=twitter:domain content="https://zufrieden.io/"><meta name=twitter:image content="https://zufrieden.io/tn.png"><meta name=twitter:title property="og:title" itemprop="title name" content="zufrieden.io/"><meta name=twitter:description property="og:description" itemprop=description content="Marc Friederich"><meta name=og:type content="website"><meta name=og:url content="https://zufrieden.io/"><meta name=og:image itemprop="image primaryImageOfPage" content="https://zufrieden.io/tn.png"><title>Here is a new design to my website - variable is the keyword</title><link rel=manifest href=/manifest.json><link rel=stylesheet href=/css/style.css?2022-12-09%2013%3a12%3a29.951936685%20%2b0000%20UTC%20m%3d%2b2.22609193620221030-0008><link rel=authorization_endpoint href=https://indieauth.com/auth><script>if(navigator.serviceWorker){window.addEventListener('load',function(){navigator.serviceWorker.register('/zufrieden-sw.js',{scope:'/'});if(navigator.serviceWorker.controller){navigator.serviceWorker.controller.postMessage({'command':'trimCaches'});}});}</script><script>function gethue(){const x=1-(window.innerWidth)/10000;const actual_color_hue=getComputedStyle(document.documentElement).getPropertyValue('--color-h');document.documentElement.style.setProperty('--color-h',Math.round(312*x));}
gethue();window.addEventListener('resize',()=>{gethue();})</script><script>document.documentElement.className=document.documentElement.className.replace("no-js","js");</script></head><body><nav class=a11y-navigation aria-label="Accessibility navigation"><ul><li><a class="sr-only sr-show-on-focus" accesskey=0 href=/ title="[Alt+0] Homepage">Homepage</a></li><li><a class="sr-only sr-show-on-focus" accesskey=1 href=#menu title="[Alt+1] Website Navigation">Website Navigation</a></li><li><a class="sr-only sr-show-on-focus" accesskey=2 href=#main title="[Alt+2] Skip to content">Skip to content</a></li></ul></nav><header><nav role=menubar id=menu><ul><li class=home><a href=https://zufrieden.io/>zufrieden.io/</a></li><li><a href=/sharing>Sharing</a></li><li><a href=/writing>Writing</a></li><li><a href=/linking>Linking</a></li><li><a href=/talking>Talking</a></li><li><a href=/making-pictures>Making pictures</a></li><li><a href=/about>About</a></li></ul></nav></header><main class=container><h1>Here is a new design to my website - variable is the keyword</h1><h2>With new colors reacting responsively and a new variable font</h2><section><h3>Nov 11, 2022 &#183; 382 words<ul class=tags><li class=tag><a href=https://zufrieden.io/tags/blog>blog</a></li><li class=tag><a href=https://zufrieden.io/tags/dev>dev</a></li></ul></h3></section><section><p>Using <a href=https://github.com/weiweihuanghuang/Work-Sans>Work Sans</a> variable font to choose &mldr;</p><h3 class=youpi>whatever weight I want</h3><style>.youpi{animation-duration:2s;animation-name:getbold;animation-iteration-count:infinite;animation-timing-function:ease-in-out;text-align:center;padding:1em}@keyframes getbold{from{font-weight:1}50%{font-weight:999}to{font-weight:1}}</style><p>This is really nice to adapt weight to very use case. Just like this :</p><hr><h1 id=the-story-of-typewriters-is-a-title1>The Story of Typewriters is a title1</h1><h2 id=in-the-country-of-the-last-things-is-a-title2>In the Country of the Last Things is a title2</h2><h3 id=the-swiss-team-has-won-the-solar-decathlon-competition-would-mean-3>The Swiss Team has won the Solar Decathlon competition would mean 3</h3><h4 id=the-strength-of-the-swiss-team-consists-in-its-multidisciplinary-cohesion-is-4>The strength of the Swiss team consists in its multidisciplinary cohesion is 4</h4><h5 id=this-project-also-provided-the-students-with-a-unique-unforgettable-and-inspirational-learning-opportunity-is-5>This project also provided the students with a unique, unforgettable, and inspirational learning opportunity is 5</h5><p>You can use the mark tag to <mark>highlight</mark> text.</p><p><del>This line of text</del> is meant to be treated as deleted text.</p><p><u>This line of text will render as underlined</u></p><p><small>This line of text is meant to be treated as fine print.</small></p><p><strong>This line rendered as bold text.</strong></p><p><em>This line rendered as italicized text.</em></p><hr><h2 id=a-matter-of-footprint>A matter of footprint</h2><p>Using a variable font with 900 different weights allow to have only 1 file loaded.
But the original TTF is 300ko.
After a special treatment, the woff2 is only 30ko.</p><h3 id=how-to-compress-a-variable-ttf-font>How to compress a variable TTF font</h3><p>installing Python, pip etc &mldr;</p><div class=highlight><pre style=color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:3;-o-tab-size:3;tab-size:3><code class=language-shell data-lang=shell>sudo port install python39
sudo port <span style=color:#5f8700>select</span> --set python python39
</code></pre></div><p>Install <a href=https://fonttools.readthedocs.io/en/latest/index.html>fonttools</a> to manipulate font files</p><div class=highlight><pre style=color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:3;-o-tab-size:3;tab-size:3><code class=language-shell data-lang=shell>pip install fonttools
pip install brotli
</code></pre></div><p>Remove all glyphs except basic latin characters (punctuation, digits, letters)</p><div class=highlight><pre style=color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:3;-o-tab-size:3;tab-size:3><code class=language-shell data-lang=shell>fonttools subset WorkSans<span style=color:#af0000>\[</span>wght<span style=color:#af0000>\]</span>.ttf  --output-file=worksans.ttf --unicodes=U+0020-007E
</code></pre></div><p>Use <a href=https://github.com/google/woff2>woff2 library</a> to convert TTF to WOFF2 or using fonttools in only one line</p><div class=highlight><pre style=color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:3;-o-tab-size:3;tab-size:3><code class=language-shell data-lang=shell>fonttools subset WorkSans<span style=color:#af0000>\[</span>wght<span style=color:#af0000>\]</span>.ttf  --output-file=worksans.woff --flavor=woff  --unicodes=U+0020-007E
</code></pre></div><p>I am really happy with Work Sans</p><h2 id=variable-color-scheme>Variable color scheme</h2><p>My CSS goes with variable constructed around HSL attributes</p><div class=highlight><pre style=color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:3;-o-tab-size:3;tab-size:3><code class=language-CSS data-lang=CSS>:<span style=color:#0087ff>root</span> {
	<span style=color:#0087ff>--color-h</span>: <span style=color:#00afaf>225</span>; <span style=color:#4e4e4e>/* Hue General */</span>
	
	<span style=color:#4e4e4e>/* background */</span> 
	<span style=color:#0087ff>--bg-color-s</span>: <span style=color:#00afaf>80</span><span style=color:#af0000>%</span>; <span style=color:#4e4e4e>/* Saturation */</span>
	<span style=color:#0087ff>--bg-color-l</span>: <span style=color:#00afaf>96</span><span style=color:#af0000>%</span>; <span style=color:#4e4e4e>/* Lightness  */</span>
	
	<span style=color:#0087ff>--bg-color</span>: <span style=color:#0087ff>hsl</span>(
  	<span style=color:#0087ff>var</span>(--<span style=color:#d75f00>color</span>-h), 
  	<span style=color:#0087ff>var</span>(--bg-<span style=color:#d75f00>color</span>-s), 
  	<span style=color:#0087ff>var</span>(--bg-<span style=color:#d75f00>color</span>-l)
	);
}
</code></pre></div><p>Then with a little unobstructive Javascript</p><div class=highlight><pre style=color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:3;-o-tab-size:3;tab-size:3><code class=language-javascript data-lang=javascript><span style=color:#0087ff>function</span> gethue(){
  <span style=color:#0087ff>const</span> x = <span style=color:#00afaf>1</span> - (<span style=color:#0087ff>window</span>.innerWidth) / <span style=color:#00afaf>10000</span>;
  <span style=color:#0087ff>const</span> actual_color_hue = getComputedStyle(<span style=color:#0087ff>document</span>.documentElement).getPropertyValue(<span style=color:#00afaf>&#39;--color-h&#39;</span>);
  <span style=color:#0087ff>document</span>.documentElement.style.setProperty(<span style=color:#00afaf>&#39;--color-h&#39;</span>, <span style=color:#0087ff>Math</span>.round(<span style=color:#00afaf>300</span>*x));		
}
gethue();
<span style=color:#0087ff>window</span>.addEventListener(<span style=color:#00afaf>&#39;resize&#39;</span>, () =&gt; {
	gethue();
})
</code></pre></div><p>Just try resizing the page to see it in action.</p><p>Or simply drag the following input</p><script>function getlivehue(){const x=1-(document.getElementById('hue').value)/10000;const actual_color_hue=getComputedStyle(document.documentElement).getPropertyValue('--color-h');document.documentElement.style.setProperty('--color-h',Math.round(300*x));}</script><p><input type=range id=hue name=hue min=0 max=5000 onmousemove=getlivehue(); style=width:90%></p></section></main><footer class=footer><div class=footer_links><ul class="list-icons list-icons-center"><li><h2>üì®</h2><a href=mailto:m@zufrieden.io>m@zufrieden.io</a></li><li><h2>üôä</h2><a data-hint=Twitter title=Twitter href=https://twitter.com/zufrieden target=_blank rel=me>twitter.com/zufrieden</a></li><li><h2>üêô</h2><a data-hint=Github title=Github href=https://github.com/zufrieden target=_blank rel=me>github.com/zufrieden</a></li></ul></div></footer></body></html>