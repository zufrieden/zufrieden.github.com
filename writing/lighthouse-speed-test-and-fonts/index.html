<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="chrome=1"><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><meta name=description content="Marc Friederich"><meta name=twitter:card content="summary"><meta name=twitter:domain content="https://zufrieden.io/"><meta name=twitter:image content="https://zufrieden.io/tn.png"><meta name=twitter:title property="og:title" itemprop="title name" content="zufrieden.io/"><meta name=twitter:description property="og:description" itemprop=description content="Marc Friederich"><meta name=og:type content="website"><meta name=og:url content="https://zufrieden.io/"><meta name=og:image itemprop="image primaryImageOfPage" content="https://zufrieden.io/tn.png"><title>Optimizing font loading</title><link rel=manifest href=/manifest.json><link rel=stylesheet href=/css/style.css?20210102-0008><link rel=authorization_endpoint href=https://indieauth.com/auth><script>if(navigator.serviceWorker){window.addEventListener('load',function(){navigator.serviceWorker.register('/zufrieden-sw.js',{scope:'/'});if(navigator.serviceWorker.controller){navigator.serviceWorker.controller.postMessage({'command':'trimCaches'});}});}</script></head><body><nav class=a11y-navigation aria-label="Accessibility navigation"><ul><li><a class="sr-only sr-show-on-focus" accesskey=0 href=/ title="[Alt+0] Homepage">Homepage</a></li><li><a class="sr-only sr-show-on-focus" accesskey=1 href=#menu title="[Alt+1] Website Navigation">Website Navigation</a></li><li><a class="sr-only sr-show-on-focus" accesskey=2 href=#main title="[Alt+2] Skip to content">Skip to content</a></li></ul></nav><header><nav role=menubar id=menu><ul><li class=home><a href=https://zufrieden.io/>zufrieden.io/</a></li><li><a href=/writing>Writing</a></li><li><a href=/linking>Linking</a></li><li><a href=/talking>Talking</a></li><li><a href=/making-pictures>Making pictures</a></li><li><a href=/about>About</a></li></ul></nav></header><main class=container><h1>Optimizing font loading</h1><h2>How to increase performance regarding font loading</h2><section><h3>Jan 04, 2021 &#183; 254 words<ul class=tags><li class=tag><a href=https://zufrieden.io/tags/blog>blog</a></li><li class=tag><a href=https://zufrieden.io/tags/dev>dev</a></li></ul></h3></section><section><h2 id=lot-of-solutions-to-choose-from>Lot of solutions to choose from</h2><p>I came accros this great article on css-tricks on <a href=https://css-tricks.com/how-to-load-fonts-in-a-way-that-fights-fout-and-makes-lighthouse-happy/>how to load font in a way that fight FOUT and makes lighthouse happy</a>. I&rsquo;m not here to please lighthouse, but what could be improved to speed up this website is welcomed. The solution explained here is to use some JS to wait rendering in order to load the font. But then a fallback is needed to have a non-obstructive solution.</p><h2 id=best-build-tool-is-no-build-tool>Best build tool is no build tool</h2><p>Love the idea that, for this sort of website, having a bare simple almost raw website is the best resilient approach. As posted here by Steren <a href=https://blog.steren.fr/2020/my-stack-will-outlive-yours/>My stack will outlive yours</a>. I loved the idea of choosing the lightest solution.</p><h2 id=choose-a-fallback-font>Choose a fallback font</h2><p>This tool <a href=https://meowni.ca/font-style-matcher/>Font-style-matcher</a> helped me find the best system font alternative to avoid my page jumping to much when the font would load.</p><h2 id=font-display-swap-block-fallback-optional>Font-display <code>swap</code>, <code>block</code>, <code>fallback</code>, <code>optional</code></h2><p>Another detailed article <a href=https://nickbulljs.medium.com/3-css-font-properties-you-need-to-use-in-2020-1e60c415b8a8>on font loading from Nick Bull</a> explain different strategy on <code>font-display</code> usage.
I decide to go <code>fallback</code>.</p><blockquote><p><code>font-display: fallback;</code> Acts as a compromise between the auto and swap values. The browser hides the text for about 100ms, and if the font has not yet been downloaded, the browser uses the fallback text. It will swap to the new font after it is downloaded, but only during a short swap period (probably three seconds).</p></blockquote><p>As the font is loaded and cached by <a href=going-offline-is-great.md>the service worker</a>, on the next page, the user will have the font loaded anyway.</p></section></main><footer class=footer><footer class=snowy><div class=floor_sky_top></div><div class=floor_snow_2></div><div class=floor_snow></div><div class=snowman>‚õÑÔ∏è</div><div class=floor_snow_top></div></footer><div class=footer_links><ul class="list-icons list-icons-center"><li><h2>üì®</h2><a href=mailto:m@zufrieden.io>m@zufrieden.io</a></li><li><h2>üôä</h2><a data-hint=Twitter title=Twitter href=https://twitter.com/zufrieden target=_blank rel=me>twitter.com/zufrieden</a></li><li><h2>üêô</h2><a data-hint=Github title=Github href=https://github.com/zufrieden target=_blank rel=me>github.com/zufrieden</a></li></ul></div><div class=floor_snow_bottom></div></footer></body></html>