<!doctype html><html lang=en-us class=no-js><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="chrome=1"><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><meta name=description content="Marc Friederich"><meta name=twitter:card content="summary"><meta name=twitter:domain content="https://zufrieden.io/"><meta name=twitter:image content="https://zufrieden.io/tn.png"><meta name=twitter:title property="og:title" itemprop="title name" content="zufrieden.io/"><meta name=twitter:description property="og:description" itemprop=description content="Marc Friederich"><meta name=og:type content="website"><meta name=og:url content="https://zufrieden.io/"><meta name=og:image itemprop="image primaryImageOfPage" content="https://zufrieden.io/tn.png"><title>Adding dark mode to this website</title><link rel=manifest href=/manifest.json><link rel=stylesheet href=/css/style.css?20221030-0007><link rel=authorization_endpoint href=https://indieauth.com/auth><script>if(navigator.serviceWorker){window.addEventListener('load',function(){navigator.serviceWorker.register('/zufrieden-sw.js',{scope:'/'});if(navigator.serviceWorker.controller){navigator.serviceWorker.controller.postMessage({'command':'trimCaches'});}});}</script><script>document.documentElement.className=document.documentElement.className.replace("no-js","js");</script></head><body><nav class=a11y-navigation aria-label="Accessibility navigation"><ul><li><a class="sr-only sr-show-on-focus" accesskey=0 href=/ title="[Alt+0] Homepage">Homepage</a></li><li><a class="sr-only sr-show-on-focus" accesskey=1 href=#menu title="[Alt+1] Website Navigation">Website Navigation</a></li><li><a class="sr-only sr-show-on-focus" accesskey=2 href=#main title="[Alt+2] Skip to content">Skip to content</a></li></ul></nav><header><nav role=menubar id=menu><ul><li class=home><a href=https://zufrieden.io/>zufrieden.io/</a></li><li><a href=/writing>Writing</a></li><li><a href=/linking>Linking</a></li><li><a href=/talking>Talking</a></li><li><a href=/making-pictures>Making pictures</a></li><li><a href=/about>About</a></li></ul></nav></header><main class=container><h1>Adding dark mode to this website</h1><h2>Because why not, that was actually quite easy</h2><section><h3>Jan 02, 2021 &#183; 169 words<ul class=tags><li class=tag><a href=https://zufrieden.io/tags/blog>blog</a></li><li class=tag><a href=https://zufrieden.io/tags/dev>dev</a></li></ul></h3></section><section><p>A few line of CSS and a nice excuse to experiment with variables. <a href=https://github.com/zufrieden/zufrieden.github.com/commit/30f011b5681705aacbe1b95bae6edd12c5382e52>Full commit available on github</a>. I didn&rsquo;t want to add any JS to switch modes. I really like the fact that the toggle is available on the OS level. But Chris wrote a <a href=https://gomakethings.com/automatic-night-mode-with-vanilla-js/>nice tutorial on creating an automatic night mode with vanilla JS</a>.</p><h2 id=a-few-line-of-css>A few line of CSS</h2><p>Simply adding a variable to define background color</p><div class=highlight><pre style=color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:3;-o-tab-size:3;tab-size:3><code class=language-CSS data-lang=CSS>:<span style=color:#0087ff>root</span> {
  <span style=color:#0087ff>--bg-color</span>: <span style=color:#0087ff>hsla</span>(<span style=color:#00afaf>21</span>, <span style=color:#00afaf>52</span><span style=color:#af0000>%</span>, <span style=color:#00afaf>94</span><span style=color:#af0000>%</span>, <span style=color:#00afaf>1</span>);
}
</code></pre></div><p>And override on a media query for user requesting a darker color-scheme</p><div class=highlight><pre style=color:#8a8a8a;background-color:#1c1c1c;-moz-tab-size:3;-o-tab-size:3;tab-size:3><code class=language-CSS data-lang=CSS>@<span style=color:#5f8700>media</span> (<span style=color:#0087ff>prefers-color-scheme</span>: <span style=color:#0087ff>dark</span>) {
  :<span style=color:#0087ff>root</span> {
	<span style=color:#0087ff>--bg-color</span>: <span style=color:#0087ff>hsla</span>(<span style=color:#00afaf>202</span>, <span style=color:#00afaf>85</span><span style=color:#af0000>%</span>, <span style=color:#00afaf>4</span><span style=color:#af0000>%</span>, <span style=color:#00afaf>1</span>);
  }
}
</code></pre></div><h2 id=the-real-difficulty-is-to-choose-the-color-wisely>The real difficulty is to choose the color wisely</h2><p>Using HSLA way of defining colors helps choose the right brightness as dark theme tend to look better with more vivid colors. This article by Tunghsiao Liu about <a href=https://sparanoid.com/note/css-variables-guide/>CSS Variables Guide: Color Manipulation and Dark Mode</a> explain why and some tricks to ease the seek of the good color.</p><p>More ressources from <a href=https://css-tricks.com/dark-modes-with-css/>Robin Rendle on CSS Tricks</a>.</p></section></main><footer class=footer><div class=footer_links><ul class="list-icons list-icons-center"><li><h2>üì®</h2><a href=mailto:m@zufrieden.io>m@zufrieden.io</a></li><li><h2>üôä</h2><a data-hint=Twitter title=Twitter href=https://twitter.com/zufrieden target=_blank rel=me>twitter.com/zufrieden</a></li><li><h2>üêô</h2><a data-hint=Github title=Github href=https://github.com/zufrieden target=_blank rel=me>github.com/zufrieden</a></li></ul></div></footer></body><script>function gethue(){const x=1-(window.innerWidth)/10000;const actual_color_hue=getComputedStyle(document.documentElement).getPropertyValue('--color-h');document.documentElement.style.setProperty('--color-h',Math.round(300*x));}
gethue();window.addEventListener('resize',()=>{gethue();})</script></html>